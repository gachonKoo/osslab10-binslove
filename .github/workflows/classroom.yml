name: GitHub Classroom Autograding Workflow

on:
  push:                     # ✅ 봇/사용자/웹 편집 모두 실행
    branches: ["**"]
  workflow_dispatch:        # 수동 실행 허용

permissions:
  contents: read
  checks: write
  pull-requests: write

jobs:
  autograding:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Run Autograder
        id: autograding
        uses: education/autograding@v1
        # 기본 경로 .github/classroom/autograding.json 을 사용하므로 with: path 필요 없음

      - name: Report
        uses: classroom-resources/autograding-grading-reporter@v1
        with:
          runners: ${{ steps.autograding.outputs.runners }}